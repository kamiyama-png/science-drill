<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5Âπ¥1ÁµÑ ÁêÜÁßëÔºö‰∫∫„ÅÆ„Åü„Çì„Åò„Çá„ÅÜ„Éû„Çπ„Çø„Éº</title>
    <style>
        :root {
            --primary: #4caf50;
            --secondary: #ff9800;
            --bg: #f1f8e9;
        }
        body {
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            background-color: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        #game-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 550px;
            text-align: center;
            border: 4px solid var(--primary);
        }
        .level-badge {
            display: inline-block;
            padding: 5px 20px;
            border-radius: 20px;
            background: var(--primary);
            color: white;
            font-weight: bold;
            margin-bottom: 10px;
        }
        #question-container {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.15rem;
            font-weight: bold;
            line-height: 1.6;
            border: 2px solid #c8e6c9;
        }
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            width: 100%;
            margin-top: 15px;
        }
        .option-btn {
            padding: 12px;
            font-size: 1rem;
            background: #e8f5e9;
            border: 2px solid var(--primary);
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s;
        }
        .option-btn:hover { background: #c8e6c9; }
        .option-btn:active { transform: scale(0.95); }
        
        #feedback { margin-top: 15px; font-size: 1.3rem; font-weight: bold; height: 35px; }
        .correct { color: #2e7d32; }
        .wrong { color: #d32f2f; }
        
        #clear-screen { display: none; }
        .progress-dots { margin: 10px 0; font-size: 1.1rem; color: #666; }
        button.main-btn {
            margin-top: 20px;
            padding: 15px 40px;
            font-size: 1.2rem;
            color: white;
            background: var(--secondary);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px #e65100;
        }
    </style>
</head>
<body>

<div id="game-card">
    <div id="level-label" class="level-badge">„É¨„Éô„É´1</div>
    <div id="progress" class="progress-dots"></div>
    
    <div id="game-view">
        <div id="question-container">
            <div id="question"></div>
            <div id="options" class="options-grid"></div>
        </div>
        <div id="feedback"></div>
    </div>

    <div id="clear-screen">
        <h2 id="clear-msg"></h2>
        <p id="clear-desc"></p>
        <button class="main-btn" onclick="startNextLevel()" id="next-lvl-btn"></button>
    </div>
</div>

<script>
    let currentLevel = 1;
    let currentStep = 0;
    let scoreInLevel = 0;
    const QUESTIONS_PER_LEVEL = 7;

    const quizData = {
        1: [ // „É¨„Éô„É´1: Âü∫Êú¨ÔºàÂèóÁ≤æ„Å®ÂàùÊúü„ÅÆÊàêÈï∑Ôºâ
            { q: "ÂçµÔºàÂçµÂ≠êÔºâ„Å®Á≤æÂ≠ê„ÅåÁµê„Å≥„Å§„Åè„Åì„Å®„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", a: "ÂèóÁ≤æ", o: ["ÂèóÁ≤æ", "Ë™ïÁîü", "ÊàêÈï∑", "ÂëºÂê∏"] },
            { q: "ÂèóÁ≤æ„Åó„ÅüÂçµ„ÅåËÇ≤„Å§„ÄÅÊØçË¶™„ÅÆ‰ΩìÂÜÖ„ÅÆÂ†¥ÊâÄ„ÅØ„Å©„ÅìÔºü", a: "Â≠êÂÆÆ", o: ["Â≠êÂÆÆ", "ËÉÉ", "ÂøÉËáì", "„Åü„ÅÑ„Å∞„Çì"] },
            { q: "„É°„ÉÄ„Ç´„ÅÆ„Åü„Åæ„Åî„Å´„ÅØÈ§äÂàÜ„Åå„ÅÇ„Çã„Åå„ÄÅ‰∫∫„ÅØ„Å©„Åì„Åã„ÇâÈ§äÂàÜ„Çí„ÇÇ„Çâ„ÅÜÔºü", a: "ÊØçË¶™„ÅÆ‰Ωì", o: ["ÊØçË¶™„ÅÆ‰Ωì", "Ëá™ÂàÜ„ÅÆ„Åü„Åæ„Åî", "Á©∫Ê∞ó", "Ê∞¥"] },
            { q: "ÂèóÁ≤æ„Åó„Å¶„Åã„ÇâÁ¥Ñ8ÈÄ±„ÄÅÂøÉËáì„ÅÆÂãï„Åç„ÅåÂßã„Åæ„Çã„Åì„Çç„ÅÆÂëº„Å≥Âêç„ÅØÔºü", a: "ËÉéÂÖê", o: ["ËÉéÂÖê", "Ëµ§„Å°„ÇÉ„Çì", "„Åü„Åæ„Åî", "ÂπºËô´"] },
            { q: "ËÉéÂÖê„ÅÆ„Åæ„Çè„Çä„Å´„ÅÇ„ÇãÊ∂≤‰Ωì„ÅÆ„Åì„Å®„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", a: "ÁæäÊ∞¥", o: ["ÁæäÊ∞¥", "Êµ∑Ê∞¥", "Ë°ÄÊ∂≤", "Ê†ÑÈ§äÊ∞¥"] },
            { q: "Â≠êÂÆÆ„ÅÆ‰∏≠„ÅßËÉéÂÖê„ÅØ„ÄåÁæäÊ∞¥„Äç„Å´ÊµÆ„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰Ωï„Åã„ÇâÂÆà„Çã„Åü„ÇÅÔºü", a: "Â§ñ„Åã„Çâ„ÅÆ„Åó„Åí„Åç", o: ["Â§ñ„Åã„Çâ„ÅÆ„Åó„Åí„Åç", "ÂØí„Åï", "„Åæ„Å∂„Åó„Åï", "Á©∫ËÖπ"] },
            { q: "ÂèóÁ≤æÂæå„ÄÅÁ¥Ñ‰ΩïÈÄ±Èñì„ÅßËµ§„Å°„ÇÉ„Çì„ÅØÁîü„Åæ„Çå„Å¶„Åè„ÇãÔºü", a: "Á¥Ñ38ÈÄ±", o: ["Á¥Ñ38ÈÄ±", "Á¥Ñ10ÈÄ±", "Á¥Ñ20ÈÄ±", "Á¥Ñ50ÈÄ±"] }
        ],
        2: [ // „É¨„Éô„É´2: ÂøúÁî®Ôºà‰Ωì„ÅÆ„Å§„Åè„Çä„Å®ÂΩπÂâ≤Ôºâ
            { q: "ËÉéÂÖê„Å®ÊØçË¶™„Çí„Å§„Å™„Åé„ÄÅÈ§äÂàÜ„ÇÑÈÖ∏Á¥†„ÇíÈÄÅ„ÇãÁµÑÁπî„ÅØ„Å©„ÇåÔºü", a: "„Åü„ÅÑ„Å∞„Çì", o: ["„Åü„ÅÑ„Å∞„Çì", "ÁæäÊ∞¥", "ÂøÉËáì", "Â≠êÂÆÆ„ÅÆÂ£Å"] },
            { q: "„Åü„ÅÑ„Å∞„Çì„Å®ËÉéÂÖê„Çí„Å§„Å™„ÅÑ„Åß„ÅÑ„Çã„Åè„Å†„ÅÆÂêçÂâç„ÅØÔºü", a: "„Å∏„Åù„ÅÆ„Åä", o: ["„Å∏„Åù„ÅÆ„Åä", "Ë°ÄÁÆ°", "Á≠ãËÇâ", "„Åõ„Åº„Å≠"] },
            { q: "ËÉéÂÖê„ÅØ„Äå„Å∏„Åù„ÅÆ„Åä„Äç„ÇíÈÄö„Åó„Å¶‰Ωï„ÇíÂèñ„ÇäÂÖ•„Çå„Å¶„ÅÑ„ÇãÔºü", a: "ÈÖ∏Á¥†„Å®È§äÂàÜ", o: ["ÈÖ∏Á¥†„Å®È§äÂàÜ", "È£ü„ÅπÁâ©", "Á©∫Ê∞ó", "Ê∞¥"] },
            { q: "ËÉéÂÖê„Åã„Çâ„Äå„Å∏„Åù„ÅÆ„Åä„Äç„ÇíÈÄö„Åó„Å¶„ÅäÊØç„Åï„Çì„Å∏Âá∫„Åô„ÇÇ„ÅÆ„ÅØÔºü", a: "‰∫åÈÖ∏ÂåñÁÇ≠Á¥†„ÇÑ‰∏çË¶Å„Å™Áâ©", o: ["‰∫åÈÖ∏ÂåñÁÇ≠Á¥†„ÇÑ‰∏çË¶Å„Å™Áâ©", "ÈÖ∏Á¥†", "Ê†ÑÈ§ä", "Ë°ÄÊ∂≤"] },
            { q: "Á¥Ñ24ÈÄ±Ôºà6„É∂ÊúàÔºâ„Åî„Çç„ÄÅËÉéÂÖê„ÅÆ‰Ωì„ÅßÊ¥ªÁô∫„Å´„Å™„Çã„ÅÆ„ÅØÔºü", a: "ÂøÉËáì„ÅÆÂãï„Åç", o: ["ÂøÉËáì„ÅÆÂãï„Åç", "ÁõÆ„ÅÆËâ≤", "Ê≠©„ÅèÁ∑¥Áøí", "ÂëºÂê∏"] },
            { q: "‰∫∫„ÅÆ‰∏ÄÁîü„ÅÆ„ÅÜ„Å°„ÄÅ‰∏ÄÁï™ÊàêÈï∑„ÅÆ„Çπ„Éî„Éº„Éâ„ÅåÈÄü„ÅÑÊôÇÊúü„ÅØ„ÅÑ„Å§Ôºü", a: "„Åä„Å™„Åã„ÅÆ‰∏≠„Å´„ÅÑ„Çã„Å®„Åç", o: ["„Åä„Å™„Åã„ÅÆ‰∏≠„Å´„ÅÑ„Çã„Å®„Åç", "Ëµ§„Å°„ÇÉ„Çì", "‰∏≠Â≠¶Áîü", "Â§ß‰∫∫"] },
            { q: "Áîü„Åæ„Çå„Åü„Å∞„Åã„Çä„ÅÆËµ§„Å°„ÇÉ„Çì„ÅÆ‰ΩìÈáç„ÅØ„Å†„ÅÑ„Åü„ÅÑ‰ΩïgÔºü", a: "Á¥Ñ3000g", o: ["Á¥Ñ3000g", "Á¥Ñ100g", "Á¥Ñ1000g", "Á¥Ñ10kg"] }
        ],
        3: [ // „É¨„Éô„É´3: ÈÅî‰∫∫ÔºàÊàêÈï∑„ÅÆ„Çà„ÅÜ„ÅôÔºâ
            { q: "ÂèóÁ≤æÂæå„ÄÅÁ¥Ñ‰ΩïÊó•„ÅßËµ§„Å°„ÇÉ„Çì„ÅØÁîü„Åæ„Çå„ÇãÔºü", a: "Á¥Ñ266Êó•", o: ["Á¥Ñ266Êó•", "Á¥Ñ100Êó•", "Á¥Ñ365Êó•", "Á¥Ñ500Êó•"] },
            { q: "Á¥Ñ16ÈÄ±„Åî„Çç„ÄÅËÉéÂÖê„Å´Áèæ„Çå„ÇãÂ§âÂåñ„ÅØ„Å©„ÇåÔºü", a: "Áî∑Â•≥„ÅÆÂå∫Âà•", o: ["Áî∑Â•≥„ÅÆÂå∫Âà•", "Ëµ∞„ÇãÂäõ", "Ë®ÄËëâ", "Ê≠Ø„Åå„ÅØ„Åà„Çã"] },
            { q: "Á¥Ñ36ÈÄ±„Åî„Çç„ÄÅËÉéÂÖê„ÅåÂ≠êÂÆÆ„ÅÆ‰∏≠„Åß„Åß„Åç„Å™„Åè„Å™„Çã„Åì„Å®„ÅØÔºü", a: "ÂõûËª¢", o: ["ÂõûËª¢", "ÂøÉÊãç", "Ê†ÑÈ§äÂê∏Âèé", "„Åä„Åó„Å£„Åì"] },
            { q: "ËÉéÂÖê„ÅÆÊàêÈï∑„Åß„ÄÅÊúÄÂàù„ÅÆÊñπ„Å´ÂΩ¢„Åå„Åß„Åç„Çã„ÅÆ„ÅØ„Å©„ÇåÔºü", a: "ÁõÆ„ÇÑËÄ≥", o: ["ÁõÆ„ÇÑËÄ≥", "„Å§„ÇÅ", "È´™„ÅÆÊØõ", "Ê≠Ø"] },
            { q: "ÊØçË¶™„ÅåÈ£ü‰∫ã„Åß„Å®„Å£„ÅüÈ§äÂàÜ„ÅØ„ÄÅ„Å©„Åì„Åß‰∫§Êèõ„Åï„Çå„ÇãÔºü", a: "„Åü„ÅÑ„Å∞„Çì", o: ["„Åü„ÅÑ„Å∞„Çì", "ËÉÉ", "ËÇ∫", "„Å∏„Åù"] },
            { q: "Ëµ§„Å°„ÇÉ„Çì„ÅåÁîü„Åæ„Çå„Çã„Å®„Åç„ÄÅÊúÄÂàù„Å´Âá∫„Å¶„Åè„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ„ÅÆ„ÅØÔºü", a: "È†≠", o: ["È†≠", "Ë∂≥", "Êâã", "„Åä„Åó„Çä"] },
            { q: "„É°„ÉÄ„Ç´„ÅÆËÇ≤„Å°„Å®‰∫∫„ÅÆËÇ≤„Å°„ÅÆÂÖ±ÈÄöÁÇπ„ÅØ„Å©„ÇåÔºü", a: "ÁîüÂëΩ„ÅåÂèó„ÅëÁ∂ô„Åå„Çå„Çã", o: ["ÁîüÂëΩ„ÅåÂèó„ÅëÁ∂ô„Åå„Çå„Çã", "Ê∞¥‰∏≠„ÅßËÇ≤„Å§", "Ë¶™„Åå„Åà„Åï„ÇíÈÅã„Å∂", "Âçµ„ÅÆ‰∏≠„ÅßËÇ≤„Å§"] }
        ]
    };

    function loadQuestion() {
        const levelData = quizData[currentLevel];
        currentQuestion = levelData[currentStep];
        
        document.getElementById('level-label').innerText = `„É¨„Éô„É´ ${currentLevel}Ôºö${getLevelName()}`;
        document.getElementById('progress').innerText = `„Å†„ÅÑ ${currentStep + 1} / ${QUESTIONS_PER_LEVEL} „ÇÇ„Çì`;
        document.getElementById('question').innerHTML = currentQuestion.q;
        
        const optionsEl = document.getElementById('options');
        optionsEl.innerHTML = '';
        
        // ÈÅ∏ÊäûËÇ¢„Çí„Ç∑„É£„ÉÉ„Éï„É´
        const shuffled = [...currentQuestion.o].sort(() => Math.random() - 0.5);
        
        shuffled.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(opt);
            optionsEl.appendChild(btn);
        });

        document.getElementById('feedback').innerText = "";
        document.getElementById('game-view').style.display = "block";
        document.getElementById('clear-screen').style.display = "none";
    }

    function getLevelName() {
        if(currentLevel === 1) return "„ÅØ„Åò„Åæ„ÇäÔºàÂü∫Êú¨Ôºâ";
        if(currentLevel === 2) return "„Å§„Å™„Åå„ÇäÔºàÂøúÁî®Ôºâ";
        return "„ÅÑ„ÅÆ„Å°ÔºàÈÅî‰∫∫Ôºâ";
    }

    function checkAnswer(selected) {
        const feedback = document.getElementById('feedback');
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(b => b.onclick = null); // ÈÄ£Á∂ö„ÇØ„É™„ÉÉ„ÇØÈò≤Ê≠¢

        if (selected === currentQuestion.a) {
            feedback.innerText = "‚ú® Ê≠£Ëß£ÔºÅ ‚ú®";
            feedback.className = "correct";
            scoreInLevel++;
        } else {
            feedback.innerText = `„Åñ„Çì„Å≠„ÇìÔºÅ Ê≠£Ëß£„ÅØ„Äå${currentQuestion.a}„Äç`;
            feedback.className = "wrong";
        }

        setTimeout(() => {
            currentStep++;
            if (currentStep < QUESTIONS_PER_LEVEL) {
                loadQuestion();
            } else {
                showLevelResult();
            }
        }, 1800);
    }

    function showLevelResult() {
        document.getElementById('game-view').style.display = "none";
        const clearScreen = document.getElementById('clear-screen');
        clearScreen.style.display = "block";
        
        const msg = document.getElementById('clear-msg');
        const desc = document.getElementById('clear-desc');
        const btn = document.getElementById('next-lvl-btn');

        if (scoreInLevel === QUESTIONS_PER_LEVEL) {
            msg.innerText = `„É¨„Éô„É´ ${currentLevel} „ÇØ„É™„Ç¢ÔºÅ üéä`;
            desc.innerText = "ÂÖ®ÂïèÊ≠£Ëß£ÔºÅÁîüÂëΩ„ÅÆ„Å≤„Åø„Å§„Å´Ë©≥„Åó„Åè„Å™„Å£„Åü„Å≠ÔºÅ";
            btn.innerText = currentLevel < 3 ? "Ê¨°„ÅÆ„É¨„Éô„É´„Å∏ÈÄ≤„ÇÄ" : "ÊúÄÂàù„Åã„ÇâÊåëÊà¶„Åô„Çã";
        } else {
            msg.innerText = "„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÉÅ„É£„É¨„É≥„Ç∏ÔºÅ";
            desc.innerText = `${QUESTIONS_PER_LEVEL}Âïè‰∏≠ ${scoreInLevel}ÂïèÊ≠£Ëß£„Åß„Åó„Åü„ÄÇ\nÂÖ®ÂïèÊ≠£Ëß£„ÅßÂêàÊ†º„Å†„ÇàÔºÅ`;
            btn.innerText = "„Åì„ÅÆ„É¨„Éô„É´„Çí„ÇÑ„ÇäÁõ¥„Åô";
        }
    }

    function startNextLevel() {
        if (scoreInLevel === QUESTIONS_PER_LEVEL) {
            if (currentLevel < 3) currentLevel++;
            else currentLevel = 1;
        }
        currentStep = 0;
        scoreInLevel = 0;
        loadQuestion();
    }

    loadQuestion();
</script>

</body>
</html>