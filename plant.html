<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ç†ç§‘ãƒ‰ãƒªãƒ«ï¼šæ¤ç‰©ã®ç™ºèŠ½ã¨æˆé•·</title>
    <style>
        body { font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif; background-color: #f7fff7; color: #333; padding: 20px; }
        .container { max-width: 750px; margin: 0 auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border: 2px solid #2ecc71; }
        h1 { text-align: center; color: #27ae60; border-bottom: 4px solid #2ecc71; padding-bottom: 10px; }
        .status-info { display: flex; justify-content: space-between; font-weight: bold; color: #7f8c8d; margin-bottom: 15px; }
        .progress-container { background: #f0f0f0; border-radius: 10px; height: 12px; margin-bottom: 25px; }
        #progress-bar { background: #2ecc71; height: 100%; width: 0%; border-radius: 10px; transition: 0.4s; }
        .q-text { font-size: 1.25em; font-weight: bold; margin-bottom: 20px; color: #1e8449; line-height: 1.6; }
        .options { display: grid; gap: 12px; }
        .opt-btn { padding: 15px; border: 2px solid #d4efdf; background: #fff; border-radius: 12px; cursor: pointer; font-size: 1.05em; transition: 0.2s; text-align: left; }
        .opt-btn:hover:not(:disabled) { background: #e9f7ef; border-color: #2ecc71; }
        #feedback { display: none; margin-top: 25px; padding: 20px; border-radius: 15px; border-left: 8px solid; }
        .correct-style { background: #e8f5e9; border-color: #4caf50; color: #1b5e20; }
        .incorrect-style { background: #ffebee; border-color: #f44336; color: #b71c1c; }
        .next-btn { display: block; width: 100%; padding: 15px; margin-top: 20px; background: #2ecc71; color: white; border: none; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer; }

        #result-screen { display: none; text-align: center; }
        .rank-banner { font-size: 2.2em; font-weight: bold; margin: 30px 0; color: #1e8449; }
        .summary-table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9em; }
        .summary-table th, .summary-table td { border: 1px solid #ddd; padding: 10px; }
        .summary-table th { background: #2ecc71; color: white; }
    </style>
</head>
<body>

<div class="container">
    <div id="quiz-screen">
        <h1>ğŸŒ± æ¤ç‰©ã®ç™ºèŠ½ãƒ»å®Œå…¨ãƒã‚¹ã‚¿ãƒ¼ ğŸŒ±</h1>
        <div class="status-info">
            <span>å•é¡Œ <span id="q-num">1</span> / 20</span>
            <span id="rank-badge">ç§°å·ï¼šç¨®ã¾ãè¦‹ç¿’ã„</span>
        </div>
        <div class="progress-container"><div id="progress-bar"></div></div>
        
        <div id="question" class="q-text"></div>
        <div id="options" class="options"></div>

        <div id="feedback">
            <div id="feedback-title" style="font-size: 1.3em; font-weight: bold; margin-bottom: 10px;"></div>
            <div id="feedback-desc"></div>
            <button class="next-btn" onclick="goNext()">æ¬¡ã®å•é¡Œã¸ â–¶</button>
        </div>
    </div>

    <div id="result-screen">
        <h1>ğŸŠ å…¨å•çµ‚äº†ï¼ ğŸŠ</h1>
        <div id="final-score" style="font-size: 1.4em;"></div>
        <div id="rank-display" class="rank-banner"></div>
        <h3>ğŸ“Š æˆé•·ã®è¨˜éŒ²</h3>
        <table class="summary-table">
            <thead>
                <tr><th>å•</th><th>åˆ¤å®š</th><th>æ­£ã—ã„ç­”ãˆ</th></tr>
            </thead>
            <tbody id="summary-body"></tbody>
        </table>
        <button class="next-btn" onclick="location.reload()">ã‚‚ã†ä¸€åº¦ã¾ã</button>
    </div>
</div>

<script>
const quizData = [
    { q: "ç¨®å­ãŒèŠ½ã‚’å‡ºã™ã“ã¨ã‚’ä½•ã¨ã„ã„ã¾ã™ã‹ï¼Ÿ", a: "ç™ºèŠ½ï¼ˆã¯ã¤ãŒï¼‰", r: "æ¤ç‰©ãŒè‚²ã¡å§‹ã‚ã‚‹ç¬¬ä¸€æ­©ã€ç¨®å­ã‹ã‚‰èŠ½ãŒå‡ºã‚‹ã“ã¨ã‚’ã€Œç™ºèŠ½ã€ã¨ã„ã„ã¾ã™ï¼ˆ20Pï¼‰ã€‚", options: ["ç™ºèŠ½ï¼ˆã¯ã¤ãŒï¼‰", "æˆé•·", "é–‹èŠ±", "å¤‰èº«"] },
    { q: "ã‚¤ãƒ³ã‚²ãƒ³ãƒãƒ¡ã®ç¨®å­ã§ã€ç™ºèŠ½ã—ãŸã‚ã¨ã«æœ€åˆã«é–‹ãéƒ¨åˆ†ã¯ï¼Ÿ", a: "å­è‘‰ï¼ˆã—ã‚ˆã†ï¼‰", r: "æ•™ç§‘æ›¸28ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ã‚ˆã†ã«ã€ç¨®å­ã®å¤§éƒ¨åˆ†ã‚’å ã‚ã‚‹åšã„éƒ¨åˆ†ã‚’ã€Œå­è‘‰ã€ã¨ã„ã„ã¾ã™ã€‚", options: ["å­è‘‰ï¼ˆã—ã‚ˆã†ï¼‰", "æœ¬è‘‰", "èŠ±ã³ã‚‰", "ãƒˆã‚²"] },
    { q: "ç™ºèŠ½ã®æ¡ä»¶ã‚’èª¿ã¹ã‚‹å®Ÿé¨“ã§ã€æ°´ãŒã‚ã‚‹ã‚‚ã®ã¨ãªã„ã‚‚ã®ã‚’æ¯”ã¹ãŸã¨ãã€èŠ½ãŒå‡ºãŸã®ã¯ã©ã£ã¡ï¼Ÿ", a: "æ°´ãŒã‚ã‚‹æ–¹", r: "æ•™ç§‘æ›¸22ãƒšãƒ¼ã‚¸ã®å®Ÿé¨“çµæœã‹ã‚‰ã€ç™ºèŠ½ã«ã¯ã€Œæ°´ã€ãŒå¿…è¦ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚", options: ["æ°´ãŒã‚ã‚‹æ–¹", "æ°´ãŒãªã„æ–¹", "ã©ã¡ã‚‰ã‚‚å‡ºãŸ", "ã©ã¡ã‚‰ã‚‚å‡ºãªã‹ã£ãŸ"] },
    { q: "ç¨®å­ã‚’ã€Œæ°´ã«æ²ˆã‚ãŸã¾ã¾ã€ã«ã—ã¦ãŠãã¨ã€èŠ½ãŒå‡ºã«ãã„ã®ã¯ãªãœï¼Ÿ", a: "ç©ºæ°—ãŒè¶³ã‚Šãªããªã‚‹ã‹ã‚‰", r: "æ¤ç‰©ãŒç™ºèŠ½ã™ã‚‹ã«ã¯ã€æ°´ã ã‘ã§ãªãã€Œç©ºæ°—ã€ã‚‚å¿…è¦ã§ã™ã€‚æ°´ã«æ²ˆã‚€ã¨ç©ºæ°—ãŒå±Šãã¾ã›ã‚“ï¼ˆ23Pï¼‰ã€‚", options: ["æ°´ãŒå¤šã™ãã¦è…ã‚‹ã‹ã‚‰", "ç©ºæ°—ãŒè¶³ã‚Šãªããªã‚‹ã‹ã‚‰", "å…‰ãŒå½“ãŸã‚‰ãªã„ã‹ã‚‰", "æ¸©åº¦ãŒä¸‹ãŒã‚‹ã‹ã‚‰"] },
    { q: "å†·è”µåº«ã®ä¸­ã«ç½®ã„ãŸç¨®å­ãŒãªã‹ãªã‹ç™ºèŠ½ã—ãªã„ã®ã¯ã€ä½•ã®æ¡ä»¶ãŒè¶³ã‚Šãªã„ã‹ã‚‰ï¼Ÿ", a: "é©å½“ãªæ¸©åº¦", r: "ç™ºèŠ½ã«ã¯ã€ãã®æ¤ç‰©ã«åˆã£ãŸã€Œé©å½“ãªæ¸©åº¦ã€ãŒå¿…è¦ã§ã™ã€‚å¯’ã™ãã‚‹ã¨ç™ºèŠ½ã—ã¾ã›ã‚“ï¼ˆ25Pï¼‰ã€‚", options: ["æ°´", "ç©ºæ°—", "é©å½“ãªæ¸©åº¦", "æ—¥å…‰"] },
    
    { q: "ç™ºèŠ½ã™ã‚‹å‰ã®ã‚¤ãƒ³ã‚²ãƒ³ãƒãƒ¡ã®ç¨®å­ã‚’å‰²ã‚‹ã¨ã€ä¸­ã«ã¯ä½•ãŒã‚ã‚‹ï¼Ÿ", a: "è‘‰ã‚„ããã‚„æ ¹ã«ãªã‚‹éƒ¨åˆ†ã¨å­è‘‰", r: "28ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹é€šã‚Šã€ç¨®å­ã®ä¸­ã«ã¯å°†æ¥ã®æ¤ç‰©ã®å§¿ãŒå°ã•ãæº–å‚™ã•ã‚Œã¦ã„ã¾ã™ã€‚", options: ["è‘‰ã‚„ããã‚„æ ¹ã«ãªã‚‹éƒ¨åˆ†ã¨å­è‘‰", "æ°´ã ã‘ãŒå…¥ã£ã¦ã„ã‚‹", "ç ‚ãŒã¤ã¾ã£ã¦ã„ã‚‹", "ä½•ã‚‚ãªã„ç©ºæ´"] },
    { q: "ç¨®å­ã«ãƒ‡ãƒ³ãƒ—ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹èª¿ã¹ã‚‹ãŸã‚ã«ä½¿ã†è–¬å“ã¯ä½•ï¼Ÿ", a: "ãƒ¨ã‚¦ç´ æ¶²", r: "29ãƒšãƒ¼ã‚¸ã®å®Ÿé¨“ã§ä½¿ã„ã¾ã™ã€‚ãƒ‡ãƒ³ãƒ—ãƒ³ãŒã‚ã‚‹ã¨ã€é’ã‚€ã‚‰ã•ãè‰²ã«å¤‰ã‚ã‚‹æ¶²ä½“ã§ã™ã€‚", options: ["ãƒ™ãƒã‚¸ã‚¯ãƒˆæ¶²", "ãƒ¨ã‚¦ç´ æ¶²", "ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«", "é£Ÿå¡©æ°´"] },
    { q: "ç™ºèŠ½ã™ã‚‹å‰ã®ç¨®å­ã«ãƒ¨ã‚¦ç´ æ¶²ã‚’ã¤ã‘ã‚‹ã¨ã€ä½•è‰²ã«å¤‰ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", a: "é’ã‚€ã‚‰ã•ãè‰²", r: "ç¨®å­ã«ã¯æ „é¤Šï¼ˆãƒ‡ãƒ³ãƒ—ãƒ³ï¼‰ãŒè“„ãˆã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ¨ã‚¦ç´ æ¶²ã§é’ã‚€ã‚‰ã•ãè‰²ã«å¤‰ã‚ã‚Šã¾ã™ï¼ˆ29Pï¼‰ã€‚", options: ["èµ¤è‰²", "é’ã‚€ã‚‰ã•ãè‰²", "é»„è‰²", "å¤‰åŒ–ã—ãªã„"] },
    { q: "ç™ºèŠ½ã—ã¦ã—ã°ã‚‰ããŸã£ãŸå¾Œã®ã€Œå­è‘‰ã€ã¯ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ", a: "ã—ã¼ã‚“ã§å°ã•ããªã‚‹", r: "28ãƒšãƒ¼ã‚¸ã®å†™çœŸã«ã‚ã‚‹é€šã‚Šã€æ „é¤ŠãŒä½¿ã‚ã‚ŒãŸå¾Œã®å­è‘‰ã¯ã—ã‚ã—ã‚ã«ã—ã¼ã‚“ã§ã„ãã¾ã™ã€‚", options: ["ã‚‚ã£ã¨å¤§ããå¤ªã‚‹", "ã—ã¼ã‚“ã§å°ã•ããªã‚‹", "èµ¤ãè‰²ã¥ã", "æ ¹ã£ã“ã«å¤‰ã‚ã‚‹"] },
    { q: "ç™ºèŠ½ã—ãŸå¾Œã®å­è‘‰ã«ãƒ¨ã‚¦ç´ æ¶²ã‚’ã¤ã‘ã¦ã‚‚ã€ã‚ã¾ã‚Šè‰²ãŒå¤‰ã‚ã‚‰ãªã„ã®ã¯ãªãœï¼Ÿ", a: "ä¸­ã®é¤Šåˆ†ï¼ˆãƒ‡ãƒ³ãƒ—ãƒ³ï¼‰ãŒä½¿ã‚ã‚ŒãŸã‹ã‚‰", r: "ç¨®å­ã«è“„ãˆã‚‰ã‚Œã¦ã„ãŸãƒ‡ãƒ³ãƒ—ãƒ³ã¯ã€ç™ºèŠ½ã™ã‚‹ãŸã‚ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨ã—ã¦ä½¿ã‚ã‚Œã¦ã—ã¾ã£ãŸã‹ã‚‰ã§ã™ï¼ˆ29Pï¼‰ã€‚", options: ["æ°´ã«ã¬ã‚ŒãŸã‹ã‚‰", "å¤ªé™½ã«ã‚ãŸã£ãŸã‹ã‚‰", "ä¸­ã®é¤Šåˆ†ï¼ˆãƒ‡ãƒ³ãƒ—ãƒ³ï¼‰ãŒä½¿ã‚ã‚ŒãŸã‹ã‚‰", "å¤ããªã£ãŸã‹ã‚‰"] },

    { q: "æ¤ç‰©ãŒå¤§ããæˆé•·ã™ã‚‹ãŸã‚ã«ã€ç™ºèŠ½ã®æ¡ä»¶ä»¥å¤–ã«ã€Œæ–°ãŸã«å¿…è¦ã€ãªã‚‚ã®ã¯ï¼Ÿ", a: "æ—¥å…‰ã¨è‚¥æ–™", r: "34ãƒšãƒ¼ã‚¸ã‹ã‚‰ã®å®Ÿé¨“ã§ã€æˆé•·ã«ã¯æ—¥å…‰ã‚„åœŸã®æ „é¤Šï¼ˆè‚¥æ–™ï¼‰ãŒå¤§åˆ‡ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚", options: ["æ—¥å…‰ã¨è‚¥æ–™", "æš—ã„å ´æ‰€", "å¤§é‡ã®æ°·", "å†·ãŸã„é¢¨"] },
    { q: "æ—¥å…‰ãŒå½“ãŸã‚‰ãªã„å ´æ‰€ã§è‚²ã£ãŸã‚¤ãƒ³ã‚²ãƒ³ãƒãƒ¡ã¯ã€ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ", a: "ã²ã‚‡ã‚ã²ã‚‡ã‚ã¨ç´°ãã€è‰²ãŒã†ã™ããªã‚‹", r: "æ—¥å…‰ãŒè¶³ã‚Šãªã„ã¨ã€å¥åº·ã«è‚²ã¤ã“ã¨ãŒã§ããšã€å¼±ã€…ã—ã„å§¿ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ï¼ˆ34Pï¼‰ã€‚", options: ["ã‚¬ãƒƒã‚·ãƒªå¤ªãè‚²ã¤", "ã²ã‚‡ã‚ã²ã‚‡ã‚ã¨ç´°ãã€è‰²ãŒã†ã™ããªã‚‹", "çœŸã£èµ¤ãªè‘‰ã£ã±ã«ãªã‚‹", "å…¨ãå¤‰ã‚ã‚‰ãªã„"] },
    { q: "è‚¥æ–™ï¼ˆåœŸã®æ „é¤Šï¼‰ã‚’ã‚ãŸãˆãŸæ¤ç‰©ã¨ã‚ãŸãˆãªã„æ¤ç‰©ã€ã©ã¡ã‚‰ãŒå¤§ããè‚²ã¤ï¼Ÿ", a: "è‚¥æ–™ã‚’ã‚ãŸãˆãŸæ–¹", r: "è‚¥æ–™ã¯æ¤ç‰©ã®æˆé•·ã‚’åŠ©ã‘ã‚‹å¤§åˆ‡ãªæ „é¤Šåˆ†ã§ã™ï¼ˆ36Pï¼‰ã€‚", options: ["è‚¥æ–™ã‚’ã‚ãŸãˆãŸæ–¹", "è‚¥æ–™ã‚’ã‚ãŸãˆãªã„æ–¹", "ã©ã¡ã‚‰ã‚‚åŒã˜", "è‚¥æ–™ã‚’ã‚ã’ã‚‹ã¨æ¯ã‚Œã‚‹"] },
    { q: "ãƒ¨ã‚¦ç´ æ¶²ã§èª¿ã¹ãŸã€Œé¤Šåˆ†ã€ã®æ­£ä½“ã¯ä½•ã§ã™ã‹ï¼Ÿ", a: "ãƒ‡ãƒ³ãƒ—ãƒ³", r: "ç¨®å­ã«è“„ãˆã‚‰ã‚Œã¦ã„ã‚‹ä¸»ãªæ „é¤Šåˆ†ã¯ãƒ‡ãƒ³ãƒ—ãƒ³ã§ã™ï¼ˆ29Pï¼‰ã€‚", options: ["ç ‚ç³–", "ãƒ‡ãƒ³ãƒ—ãƒ³", "æ²¹", "ã‚¿ãƒ³ãƒ‘ã‚¯è³ª"] },
    { q: "ç¨®å­ãŒç™ºèŠ½ã™ã‚‹ãŸã‚ã«ã€Œå¿…è¦ãªã„ã€ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", a: "æ—¥å…‰", r: "ç™ºèŠ½ã«ã¯ã€Œæ°´ãƒ»ç©ºæ°—ãƒ»æ¸©åº¦ã€ãŒå¿…è¦ã§ã™ãŒã€ã»ã¨ã‚“ã©ã®ç¨®å­ã¯æ—¥å…‰ãŒãªãã¦ã‚‚ç™ºèŠ½ã—ã¾ã™ï¼ˆ27Pï¼‰ã€‚", options: ["æ°´", "ç©ºæ°—", "é©å½“ãªæ¸©åº¦", "æ—¥å…‰"] },

    { q: "å®Ÿé¨“ã§æ¡ä»¶ã‚’å¤‰ãˆã‚‹ã¨ãã€èª¿ã¹ãŸã„æ¡ä»¶ä»¥å¤–ã®ã“ã¨ã¯ã©ã†ã—ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã‹ï¼Ÿ", a: "ã™ã¹ã¦åŒã˜ã«ã™ã‚‹", r: "22ãƒšãƒ¼ã‚¸ã«ã‚ã‚‹ã‚ˆã†ã«ã€æ¡ä»¶ã‚’ä¸€ã¤ã ã‘å¤‰ãˆã¦ä»–ã‚’æƒãˆã‚‹ã®ãŒã€æ­£ã—ã„å®Ÿé¨“ã®ã‚„ã‚Šæ–¹ã§ã™ã€‚", options: ["ãƒãƒ©ãƒãƒ©ã«ã™ã‚‹", "ã™ã¹ã¦åŒã˜ã«ã™ã‚‹", "ä½•ã‚‚æ°—ã«ã—ãªãã¦ã‚ˆã„", "åå¯¾ã«ã™ã‚‹"] },
    { q: "ã‚¤ãƒ³ã‚²ãƒ³ãƒãƒ¡ã‚’æš—ã„ç®±ã®ä¸­ã§è‚²ã¦ã‚‹ã¨ã€è‘‰ã®è‰²ã¯ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ", a: "é»„è‰²ã£ã½ããªã‚‹", r: "æ—¥å…‰ã«å½“ãŸã‚‰ãªã„ã¨ã€è‘‰ã®ç·‘è‰²ãŒã†ã¾ãä½œã‚Œãšã€é»„è‰²ã£ã½ã„è‰²ã«ãªã‚Šã¾ã™ï¼ˆ35Pï¼‰ã€‚", options: ["æ¿ƒã„ç·‘è‰²ã«ãªã‚‹", "é»„è‰²ã£ã½ããªã‚‹", "é’è‰²ã«ãªã‚‹", "ç´«è‰²ã«ãªã‚‹"] },
    { q: "ç¨®å­ãŒèŠ½ã‚’å‡ºã™ãŸã‚ã«ä½¿ã‚ã‚Œã‚‹æ „é¤Šã¯ã€ã©ã“ã«è“„ãˆã‚‰ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ", a: "å­è‘‰ï¼ˆã—ã‚ˆã†ï¼‰", r: "ã‚¤ãƒ³ã‚²ãƒ³ãƒãƒ¡ã®å ´åˆã€ãµã£ãã‚‰ã—ãŸå­è‘‰ã®ä¸­ã«ç™ºèŠ½ã«å¿…è¦ãªãƒ‡ãƒ³ãƒ—ãƒ³ãŒè©°ã¾ã£ã¦ã„ã¾ã™ï¼ˆ28Pï¼‰ã€‚", options: ["æ ¹", "å­è‘‰ï¼ˆã—ã‚ˆã†ï¼‰", "ã•ã‚„", "ç¨®å­ã®çš®"] },
    { q: "æ¤ç‰©ãŒæˆé•·ã™ã‚‹ã¨ãã€ãƒ‡ãƒ³ãƒ—ãƒ³ä»¥å¤–ã®é¤Šåˆ†ã‚‚åœŸã‹ã‚‰å¸åã—ã¾ã™ã‹ï¼Ÿ", a: "ã¯ã„ã€è‚¥æ–™ãªã©ã®é¤Šåˆ†ã‚’å¸åã™ã‚‹", r: "æ ¹ã‹ã‚‰æ°´ã¨ä¸€ç·’ã«ã€æˆé•·ã‚’åŠ©ã‘ã‚‹è‚¥æ–™åˆ†ãªã©ã‚’å–ã‚Šè¾¼ã¿ã¾ã™ï¼ˆ36Pï¼‰ã€‚", options: ["ã¯ã„ã€è‚¥æ–™ãªã©ã®é¤Šåˆ†ã‚’å¸åã™ã‚‹", "ã„ã„ãˆã€æ°´ã—ã‹å¸ã‚ãªã„", "ã„ã„ãˆã€ç©ºæ°—ã—ã‹å¸ã‚ãªã„", "æ—¥å…‰ã‚’å¸ã†"] },
    { q: "ç™ºèŠ½ã®3ã¤ã®æ¡ä»¶ã‚’ã™ã¹ã¦ç­”ãˆã¦ãã ã•ã„ã€‚", a: "æ°´ã€ç©ºæ°—ã€é©å½“ãªæ¸©åº¦", r: "ã€Œæ°´ãƒ»ç©ºæ°—ãƒ»æ¸©åº¦ã€ãŒæƒã£ãŸã¨ãã€ç¨®å­ã¯ç”Ÿå‘½ã®æ´»å‹•ã‚’å§‹ã‚ã¾ã™ï¼ˆ27Pï¼‰ã€‚", options: ["æ°´ã€è‚¥æ–™ã€æ—¥å…‰", "æ°´ã€åœŸã€ç©ºæ°—", "æ°´ã€ç©ºæ°—ã€é©å½“ãªæ¸©åº¦", "æ¸©åº¦ã€æ—¥å…‰ã€åœŸ"] }
];

let cur = 0, score = 0, results = [];

function loadQ() {
    const data = quizData[cur];
    document.getElementById('q-num').innerText = cur + 1;
    document.getElementById('progress-bar').style.width = ((cur+1)/20*100) + '%';
    document.getElementById('question').innerText = data.q;
    const optDiv = document.getElementById('options');
    optDiv.innerHTML = '';
    document.getElementById('feedback').style.display = 'none';
    
    let rank = "ç¨®ã¾ãè¦‹ç¿’ã„";
    if(cur >= 5) rank = "æ°´ã‚„ã‚Šæ‹…å½“";
    if(cur >= 10) rank = "ç™ºèŠ½ãƒªãƒ¼ãƒ€ãƒ¼";
    if(cur >= 15) rank = "ãƒãƒ¡åšå£«";
    document.getElementById('rank-badge').innerText = "ç§°å·ï¼š" + rank;

    data.options.sort(()=>Math.random()-0.5).forEach(o => {
        const b = document.createElement('button');
        b.className = 'opt-btn';
        b.innerText = o;
        b.onclick = () => check(o);
        optDiv.appendChild(b);
    });
}

function check(sel) {
    const d = quizData[cur];
    const isC = sel === d.a;
    const f = document.getElementById('feedback');
    results.push({res: isC, a: d.a});

    if(isC) {
        score++;
        document.getElementById('feedback-title').innerText = "â­• æ­£è§£ã§ã™ï¼";
        f.className = 'correct-style';
    } else {
        document.getElementById('feedback-title').innerText = "âŒ ãŠã—ã„ï¼";
        f.className = 'incorrect-style';
    }
    document.getElementById('feedback-desc').innerHTML = `<p>ç­”ãˆï¼š<b>${d.a}</b></p><p>${d.r}</p>`;
    document.querySelectorAll('.opt-btn').forEach(b => b.disabled = true);
    f.style.display = 'block';
}

function goNext() {
    cur++;
    if(cur < 20) loadQ();
    else showRes();
}

function showRes() {
    document.getElementById('quiz-screen').style.display = 'none';
    document.getElementById('result-screen').style.display = 'block';
    document.getElementById('final-score').innerText = `20å•ä¸­ ${score}å• æ­£è§£ã—ã¾ã—ãŸï¼`;
    
    let rank = "";
    if(score === 20) rank = "ğŸ‘‘ ã€ä¼èª¬ã€‘æ¤ç‰©ã‚’è‚²ã¦ã‚‹ç¥ ğŸ‘‘";
    else if(score >= 15) rank = "ğŸ¥‡ ã€è¶…ã™ã”ã„ã€‘ã‚°ãƒªãƒ¼ãƒ³ãƒ»ãƒã‚¹ã‚¿ãƒ¼ ğŸ¥‡";
    else if(score >= 10) rank = "ğŸ¥ˆ ã€åˆæ ¼ã€‘æ¤ç‰©åšå£« ğŸ¥ˆ";
    else if(score >= 5) rank = "ğŸ¥‰ ã€ã‚ã¨ä¸€æ­©ã€‘ãƒãƒ¡ã®ãŠä¸–è©±ä¿‚ ğŸ¥‰";
    else rank = "ğŸŒ± ã€ä¿®è¡Œä¸­ã€‘ã‚¤ãƒ³ã‚²ãƒ³ã®ãŸã¾ã” ğŸŒ±";
    
    document.getElementById('rank-display').innerText = rank;
    const sB = document.getElementById('summary-body');
    results.forEach((r, i) => {
        sB.innerHTML += `<tr><td>${i+1}</td><td>${r.res?'â—‹':'Ã—'}</td><td>${r.a}</td></tr>`;
    });
}

loadQ();
</script>
</body>
</html>