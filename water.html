<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁêÜÁßë„Éâ„É™„É´ÔºöÊµÅ„Çå„ÇãÊ∞¥„ÅÆÂÉç„Åç„Éû„Çπ„Çø„Éº</title>
    <style>
        :root {
            --primary: #0288d1;
            --secondary: #ff5722;
            --bg: #e1f5fe;
        }
        body {
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            background-color: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        #game-card {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 550px;
            text-align: center;
            border: 4px solid var(--primary);
        }
        .level-badge {
            display: inline-block;
            padding: 5px 20px;
            border-radius: 20px;
            background: var(--primary);
            color: white;
            font-weight: bold;
            margin-bottom: 10px;
        }
        #question-container {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: bold;
            line-height: 1.6;
            border: 2px solid #b3e5fc;
        }
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            width: 100%;
            margin-top: 15px;
        }
        .option-btn {
            padding: 12px;
            font-size: 1rem;
            background: #f0faff;
            border: 2px solid var(--primary);
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s;
        }
        .option-btn:hover { background: #b3e5fc; }
        #feedback { margin-top: 15px; font-size: 1.3rem; font-weight: bold; height: 35px; }
        .correct { color: #0288d1; }
        .wrong { color: #d32f2f; }
        #clear-screen { display: none; }
        .progress-dots { margin: 10px 0; font-size: 1.1rem; color: #666; }
        button.main-btn {
            margin-top: 20px;
            padding: 15px 40px;
            font-size: 1.2rem;
            color: white;
            background: var(--secondary);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px #e64a19;
        }
    </style>
</head>
<body>

<div id="game-card">
    <div id="level-label" class="level-badge">„É¨„Éô„É´1</div>
    <div id="progress" class="progress-dots"></div>
    
    <div id="game-view">
        <div id="question-container">
            <div id="question"></div>
            <div id="options" class="options-grid"></div>
        </div>
        <div id="feedback"></div>
    </div>

    <div id="clear-screen">
        <h2 id="clear-msg"></h2>
        <p id="clear-desc"></p>
        <button class="main-btn" onclick="startNextLevel()" id="next-lvl-btn"></button>
    </div>
</div>

<script>
    let currentLevel = 1;
    let currentStep = 0;
    let scoreInLevel = 0;
    const QUESTIONS_PER_LEVEL = 7;

    const quizData = {
        1: [ // „É¨„Éô„É´1: Âü∫Êú¨Ôºà3„Å§„ÅÆ„ÅØ„Åü„Çâ„ÅçÔºâ
            { q: "ÊµÅ„Çå„ÇãÊ∞¥„Åå„ÄÅÂú∞Èù¢„Çí„Åë„Åö„Çã„ÅØ„Åü„Çâ„Åç„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", a: "„Åó„ÇìÈ£ü", o: ["„Åó„ÇìÈ£ü", "ÈÅã„Å±„Çì", "„Åü„ÅÑÁ©ç", "„ÇçÈÅé"] },
            { q: "ÊµÅ„Çå„ÇãÊ∞¥„Åå„ÄÅÂúü„ÇÑÁü≥„ÇíÈÅã„Å∂„ÅØ„Åü„Çâ„Åç„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", a: "ÈÅã„Å±„Çì", o: ["„Åó„ÇìÈ£ü", "ÈÅã„Å±„Çì", "„Åü„ÅÑÁ©ç", "Ëí∏Áô∫"] },
            { q: "ÊµÅ„Çå„Å¶„Åç„ÅüÂúü„ÇÑÁü≥„ÅåÁ©ç„ÇÇ„Çã„ÅØ„Åü„Çâ„Åç„Çí‰Ωï„Å®„ÅÑ„ÅÜÔºü", a: "„Åü„ÅÑÁ©ç", o: ["„Åó„ÇìÈ£ü", "ÈÅã„Å±„Çì", "„Åü„ÅÑÁ©ç", "ÁµêÊô∂"] },
            { q: "Â∑ù„ÅÆÂ§ñÂÅ¥„Å®ÂÜÖÂÅ¥„ÄÅ„Åë„Åö„Çâ„Çå„ÇÑ„Åô„ÅÑ„ÅÆ„ÅØ„Å©„Å£„Å°Ôºü", a: "„Ç´„Éº„Éñ„ÅÆÂ§ñÂÅ¥", o: ["„Ç´„Éº„Éñ„ÅÆÂ§ñÂÅ¥", "„Ç´„Éº„Éñ„ÅÆÂÜÖÂÅ¥", "Áúü„Çì‰∏≠", "„Å©„Å°„Çâ„ÇÇÂêå„Åò"] },
            { q: "Â∑ù„ÅÆ„Ç´„Éº„Éñ„ÅÆÂÜÖÂÅ¥„Åß„ÄÅÂúü„ÇÑÁü≥„ÅåÁ©ç„ÇÇ„Çä„ÇÑ„Åô„ÅÑ„ÅÆ„ÅØ„Å™„ÅúÔºü", a: "ÊµÅ„Çå„Åå„ÇÜ„Çã„ÇÑ„Åã„Å†„Åã„Çâ", o: ["ÊµÅ„Çå„Åå„ÇÜ„Çã„ÇÑ„Åã„Å†„Åã„Çâ", "ÊµÅ„Çå„ÅåÈÄü„ÅÑ„Åã„Çâ", "Ê∞¥„ÅåÊ∑±„ÅÑ„Åã„Çâ", "È≠ö„Åå„ÅÑ„Çã„Åã„Çâ"] },
            { q: "Ê∞¥„ÅÆÊµÅ„Çå„ÇãÈáè„ÅåÂ¢ó„Åà„Çã„Å®„ÄÅ„ÅØ„Åü„Çâ„Åç„ÅØ„Å©„ÅÜ„Å™„ÇãÔºü", a: "Â§ß„Åç„Åè„Å™„Çã", o: ["Â§ß„Åç„Åè„Å™„Çã", "Â∞è„Åï„Åè„Å™„Çã", "Â§â„Çè„Çâ„Å™„ÅÑ", "„Å™„Åè„Å™„Çã"] },
            { q: "Âú∞Èù¢„ÇíÊµÅ„Çå„ÇãÊ∞¥„ÅØ„ÄÅÈ´ò„ÅÑ„Å®„Åì„Çç„Åã„Çâ‰Ωé„ÅÑ„Å®„Åì„Çç„Å∏ÊµÅ„Çå„ÇãÔºü", a: "ÊµÅ„Çå„Çã", o: ["ÊµÅ„Çå„Çã", "ÊµÅ„Çå„Å™„ÅÑ", "ÈÄÜÊµÅ„Åô„Çã", "Ê≠¢„Åæ„Çã"] }
        ],
        2: [ // „É¨„Éô„É´2: ÂøúÁî®ÔºàÂ∑ù„ÅÆ‰∏äÊµÅ„Éª‰∏ãÊµÅ„ÅÆÈÅï„ÅÑÔºâ
            { q: "Â∑ù„ÅÆ‰∏äÊµÅ„Å´„ÅÇ„ÇãÁü≥„ÅÆÁâπ„Å°„Çá„ÅÜ„ÅØÔºü", a: "Â§ß„Åç„Åè„Å¶Ëßí„Å∞„Å£„Å¶„ÅÑ„Çã", o: ["Â§ß„Åç„Åè„Å¶Ëßí„Å∞„Å£„Å¶„ÅÑ„Çã", "Â∞è„Åï„Åè„Å¶‰∏∏„ÅÑ", "Âπ≥„Çâ„ÅßËñÑ„ÅÑ", "Á†Ç„ÅÆ„Çà„ÅÜ„Å´Á¥∞„Åã„ÅÑ"] },
            { q: "Â∑ù„ÅÆ‰∏ãÊµÅ„Å´„ÅÇ„ÇãÁü≥„ÅÆÁâπ„Å°„Çá„ÅÜ„ÅØÔºü", a: "Â∞è„Åï„Åè„Å¶‰∏∏„Åø„Åå„ÅÇ„Çã", o: ["Â§ß„Åç„Åè„Å¶Ëßí„Å∞„Å£„Å¶„ÅÑ„Çã", "Â∞è„Åï„Åè„Å¶‰∏∏„Åø„Åå„ÅÇ„Çã", "Â∑®Â§ß„Å™Â≤©„Å∞„Åã„Çä", "„Éà„Ç≤„Éà„Ç≤„Åó„Å¶„ÅÑ„Çã"] },
            { q: "Áü≥„Åå‰∏ãÊµÅ„Å´„ÅÑ„Åè„Åª„Å©‰∏∏„Åè„Å™„ÇãÁêÜÁî±„ÅØÔºü", a: "„Å∂„Å§„Åã„ÇäÂêà„Å£„Å¶Ëßí„ÅåÂèñ„Çå„Çã„Åã„Çâ", o: ["„Å∂„Å§„Åã„ÇäÂêà„Å£„Å¶Ëßí„ÅåÂèñ„Çå„Çã„Åã„Çâ", "Ê∞¥„Å´Ê∫∂„Åë„Çã„Åã„Çâ", "Ë™∞„Åã„ÅåÂâä„Çã„Åã„Çâ", "È≠ö„ÅåÈ£ü„Åπ„Çã„Åã„Çâ"] },
            { q: "Â∑ùÂπÖ„ÅåÂ∫É„Åè„ÄÅÊµÅ„Çå„Åå‰∏ÄÁï™„ÇÜ„Çã„ÇÑ„Åã„Å™„ÅÆ„ÅØ„Å©„ÅìÔºü", a: "‰∏ãÊµÅ", o: ["‰∏äÊµÅ", "‰∏≠ÊµÅ", "‰∏ãÊµÅ", "Êªù"] },
            { q: "‰∏äÊµÅ„ÄÅ‰∏≠ÊµÅ„ÄÅ‰∏ãÊµÅ„ÅÆ„ÅÜ„Å°„ÄÅÂ§ß„Åç„Å™Â≤©„Åå„Ç¥„É≠„Ç¥„É≠„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅØÔºü", a: "‰∏äÊµÅ", o: ["‰∏äÊµÅ", "‰∏≠ÊµÅ", "‰∏ãÊµÅ", "„Å©„Åì„Å´„ÇÇ„Å™„ÅÑ"] },
            { q: "Â∑ùÂéü„Å´Á¥∞„Åã„ÅÑÁ†Ç„ÇÑ„Å©„Çç„ÅåÂ§ö„ÅèË¶ã„Çâ„Çå„Çã„ÅÆ„ÅØ„Å©„ÅìÔºü", a: "‰∏ãÊµÅ", o: ["‰∏äÊµÅ", "‰∏≠ÊµÅ", "‰∏ãÊµÅ", "Â±±„ÅÆ‰∏≠"] },
            { q: "Â∑ù„ÅÆÂÇæ„ÅçÔºàÊñúÈù¢Ôºâ„Åå‰∏ÄÁï™ÊÄ•„Å™„ÅÆ„ÅØ„Å©„ÅìÔºü", a: "‰∏äÊµÅ", o: ["‰∏äÊµÅ", "‰∏≠ÊµÅ", "‰∏ãÊµÅ", "Êµ∑"] }
        ],
        3: [ // „É¨„Éô„É´3: ÈÅî‰∫∫ÔºàÂÆüÈ®ì„Å®ÁÅΩÂÆ≥Ôºâ
            { q: "ÂÆüÈ®ì„Åß„ÄÅÊ∞¥„ÅÆÊµÅ„Çå„ÇíÈÄü„Åè„Åô„Çã„Å´„ÅØ„Å©„ÅÜ„Åô„Çå„Å∞„ÅÑ„ÅÑÔºü", a: "ÂÇæ„Åç„ÇíÊÄ•„Å´„Åô„Çã", o: ["ÂÇæ„Åç„ÇíÊÄ•„Å´„Åô„Çã", "ÂÇæ„Åç„Çí„ÇÜ„Çã„Åè„Åô„Çã", "Âúü„ÇíÂõ∫„ÇÅ„Çã", "Ê∞¥„ÇíÊ≠¢„ÇÅ„Çã"] },
            { q: "Èõ®„Åå„Åü„Åè„Åï„ÇìÈôç„Å£„Å¶Â∑ù„ÅåÂ¢óÊ∞¥„Åô„Çã„Å®„ÄÅ„Åó„ÇìÈ£ü„Åô„ÇãÂäõ„ÅØ„Å©„ÅÜ„Å™„ÇãÔºü", a: "„Å®„Å¶„ÇÇÂ§ß„Åç„Åè„Å™„Çã", o: ["„Å®„Å¶„ÇÇÂ§ß„Åç„Åè„Å™„Çã", "Â§â„Çè„Çâ„Å™„ÅÑ", "Â∞è„Åï„Åè„Å™„Çã", "„Å™„Åè„Å™„Çã"] },
            { q: "Â∑ù„ÅåÊõ≤„Åå„Å£„Å¶„ÅÑ„ÇãÂ†¥ÊâÄ„Åß„ÄÅÂúüÂú∞„Åå„Åë„Åö„Çâ„Çå„ÇÑ„Åô„ÅÑ„ÅÆ„ÅØ„Å©„Å£„Å°Ôºü", a: "Â§ñÂÅ¥", o: ["ÂÜÖÂÅ¥", "Â§ñÂÅ¥", "Áúü„Çì‰∏≠", "Â∫ï„Å†„Åë"] },
            { q: "Â§ßÈõ®„ÅÆ„ÅÇ„Å®„ÄÅÂ∑ù„ÅÆÊ∞¥„Åå„Å´„Åî„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅØ„Å™„ÅúÔºü", a: "„Åü„Åè„Åï„Çì„ÅÆÂúü„ÅåÈÅã„Å∞„Çå„Å¶„ÅÑ„Çã„Åã„Çâ", o: ["„Åü„Åè„Åï„Çì„ÅÆÂúü„ÅåÈÅã„Å∞„Çå„Å¶„ÅÑ„Çã„Åã„Çâ", "Ê∞¥„ÅåËÖê„Å£„Åü„Åã„Çâ", "Á©∫„ÅåÊöó„ÅÑ„Åã„Çâ", "È≠ö„ÅåÊö¥„Çå„Åü„Åã„Çâ"] },
            { q: "ÂÆüÈ®ì„Åß„ÄÅÂúü„ÅåÈÅã„Å∞„Çå„Å¶Á©ç„ÇÇ„Å£„Åü„Å®„Åì„Çç„ÅØ„Å©„ÅìÔºü", a: "ÊµÅ„Çå„Åå„ÇÜ„Çã„ÇÑ„Åã„Å´„Å™„Å£„Åü„Å®„Åì„Çç", o: ["ÊµÅ„Çå„Åå„ÇÜ„Çã„ÇÑ„Åã„Å´„Å™„Å£„Åü„Å®„Åì„Çç", "‰∏ÄÁï™È´ò„ÅÑ„Å®„Åì„Çç", "„Ç´„Éº„Éñ„ÅÆÂ§ñÂÅ¥", "„Çπ„Çø„Éº„ÉàÂú∞ÁÇπ"] },
            { q: "Â∑ù„ÅÆÊ∞¥„ÇíÂÆâÂÖ®„Å´ÊµÅ„Åô„Åü„ÇÅ„Å´‰Ωú„Çâ„Çå„Å¶„ÅÑ„ÇãÂ†§Èò≤Ôºà„Å¶„ÅÑ„Åº„ÅÜÔºâ„ÅÆÂΩπÂâ≤„ÅØÔºü", a: "Ê∞¥„Åå„ÅÇ„Åµ„Çå„Çã„ÅÆ„ÇíÈò≤„Åê", o: ["Ê∞¥„Åå„ÅÇ„Åµ„Çå„Çã„ÅÆ„ÇíÈò≤„Åê", "Áü≥„Çí‰∏∏„Åè„Åô„Çã", "È≠ö„ÇíËÇ≤„Å¶„Çã", "Ê∞¥„Çí„Åç„Çå„ÅÑ„Å´„Åô„Çã"] },
            { q: "ÊµÅ„Çå„ÇãÊ∞¥„ÅÆ3„Å§„ÅÆ„ÅØ„Åü„Çâ„Åç„ÄÅ„Åó„ÇìÈ£ü„ÉªÈÅã„Å±„Çì„ÉªÔºà„ÄÄÔºâÔºü", a: "„Åü„ÅÑÁ©ç", o: ["„Åü„ÅÑÁ©ç", "„ÇçÈÅé", "Ëí∏Áô∫", "Ê∫∂Ëß£"] }
        ]
    };

    function loadQuestion() {
        const levelData = quizData[currentLevel];
        currentQuestion = levelData[currentStep];
        document.getElementById('level-label').innerText = `„É¨„Éô„É´ ${currentLevel}Ôºö${getLevelName()}`;
        document.getElementById('progress').innerText = `„Å†„ÅÑ ${currentStep + 1} / ${QUESTIONS_PER_LEVEL} „ÇÇ„Çì`;
        document.getElementById('question').innerHTML = currentQuestion.q;
        const optionsEl = document.getElementById('options');
        optionsEl.innerHTML = '';
        const shuffled = [...currentQuestion.o].sort(() => Math.random() - 0.5);
        shuffled.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(opt);
            optionsEl.appendChild(btn);
        });
        document.getElementById('feedback').innerText = "";
        document.getElementById('game-view').style.display = "block";
        document.getElementById('clear-screen').style.display = "none";
    }

    function getLevelName() {
        if(currentLevel === 1) return "3„Å§„ÅÆ„ÅØ„Åü„Çâ„Åç";
        if(currentLevel === 2) return "Â∑ù„ÅÆ„Çà„ÅÜ„Åô„ÅÆÂ§âÂåñ";
        return "Ê∞¥„ÅÆÂäõ„Å®ÂÆüÈ®ì";
    }

    function checkAnswer(selected) {
        const feedback = document.getElementById('feedback');
        if (selected === currentQuestion.a) {
            feedback.innerText = "‚ú® Ê≠£Ëß£ÔºÅ ‚ú®";
            feedback.className = "correct";
            scoreInLevel++;
        } else {
            feedback.innerText = `„Åä„Åó„ÅÑÔºÅÊ≠£Ëß£„ÅØ„Äå${currentQuestion.a}„Äç`;
            feedback.className = "wrong";
        }
        document.querySelectorAll('.option-btn').forEach(b => b.onclick = null);
        setTimeout(() => {
            currentStep++;
            if (currentStep < QUESTIONS_PER_LEVEL) loadQuestion();
            else showLevelResult();
        }, 1800);
    }

    function showLevelResult() {
        document.getElementById('game-view').style.display = "none";
        document.getElementById('clear-screen').style.display = "block";
        const msg = document.getElementById('clear-msg');
        const desc = document.getElementById('clear-desc');
        const btn = document.getElementById('next-lvl-btn');
        if (scoreInLevel === QUESTIONS_PER_LEVEL) {
            msg.innerText = `„É¨„Éô„É´ ${currentLevel} „ÇØ„É™„Ç¢ÔºÅ üåä`;
            desc.innerText = "ÂÆåÁíß„Åß„ÅôÔºÅÂ∑ù„ÅÆÂçöÂ£´„Å´„Å™„Çå„Åù„ÅÜ„Åß„Åô„Å≠ÔºÅ";
            btn.innerText = currentLevel < 3 ? "Ê¨°„ÅÆ„É¨„Éô„É´„Å∏ÈÄ≤„ÇÄ" : "ÊúÄÂàù„Åã„ÇâÊåëÊà¶„Åô„Çã";
        } else {
            msg.innerText = "„ÇÇ„ÅÜ‰∏ÄÂ∫¶ÔºÅ";
            desc.innerText = `${QUESTIONS_PER_LEVEL}Âïè‰∏≠ ${scoreInLevel}ÂïèÊ≠£Ëß£„ÄÇÂÖ®ÂïèÊ≠£Ëß£„ÅßÂêàÊ†ºÔºÅ`;
            btn.innerText = "„Åì„ÅÆ„É¨„Éô„É´„Çí„ÇÑ„ÇäÁõ¥„Åô";
        }
    }

    function startNextLevel() {
        if (scoreInLevel === QUESTIONS_PER_LEVEL) {
            if (currentLevel < 3) currentLevel++;
            else currentLevel = 1;
        }
        currentStep = 0; scoreInLevel = 0; loadQuestion();
    }
    loadQuestion();
</script>

</body>
</html>